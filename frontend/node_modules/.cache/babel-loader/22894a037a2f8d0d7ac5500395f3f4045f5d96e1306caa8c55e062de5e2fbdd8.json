{"ast":null,"code":"// Frontend verify API wrapper — calls backend endpoints.\nconst API_BASE = process.env.REACT_APP_API_URL || '';\nexport async function sendCode(contact, method = 'email') {\n  try {\n    const res = await fetch(`${API_BASE}/api/verify/send`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contact,\n        method\n      })\n    });\n    const json = await res.json().catch(() => ({}));\n    if (!res.ok) throw new Error((json === null || json === void 0 ? void 0 : json.message) || 'Failed to send code');\n    return json;\n  } catch (err) {\n    // fallback to stubbed success to avoid breaking local dev if backend is down\n    console.warn('sendCode failed, falling back to stub:', err.message);\n    return {\n      success: true,\n      debug: true,\n      message: 'fallback sendCode'\n    };\n  }\n}\nexport async function verifyCode(contact, code) {\n  try {\n    const res = await fetch(`${API_BASE}/api/verify/verify`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contact,\n        code\n      })\n    });\n    const json = await res.json().catch(() => ({}));\n    if (!res.ok) throw new Error((json === null || json === void 0 ? void 0 : json.message) || 'Failed to verify code');\n    return json;\n  } catch (err) {\n    console.warn('verifyCode failed, falling back to stub:', err.message);\n    return {\n      valid: true,\n      debug: true\n    };\n  }\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","sendCode","contact","method","res","fetch","headers","body","JSON","stringify","json","catch","ok","Error","message","err","console","warn","success","debug","verifyCode","code","valid"],"sources":["C:/WorkConnect/WorkConnect/frontend/src/api/verify.js"],"sourcesContent":["// Frontend verify API wrapper — calls backend endpoints.\r\nconst API_BASE = process.env.REACT_APP_API_URL || '';\r\n\r\nexport async function sendCode(contact, method = 'email') {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/api/verify/send`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ contact, method }),\r\n    });\r\n    const json = await res.json().catch(() => ({}));\r\n    if (!res.ok) throw new Error(json?.message || 'Failed to send code');\r\n    return json;\r\n  } catch (err) {\r\n    // fallback to stubbed success to avoid breaking local dev if backend is down\r\n    console.warn('sendCode failed, falling back to stub:', err.message);\r\n    return { success: true, debug: true, message: 'fallback sendCode' };\r\n  }\r\n}\r\n\r\nexport async function verifyCode(contact, code) {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/api/verify/verify`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ contact, code }),\r\n    });\r\n    const json = await res.json().catch(() => ({}));\r\n    if (!res.ok) throw new Error(json?.message || 'Failed to verify code');\r\n    return json;\r\n  } catch (err) {\r\n    console.warn('verifyCode failed, falling back to stub:', err.message);\r\n    return { valid: true, debug: true };\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,EAAE;AAEpD,OAAO,eAAeC,QAAQA,CAACC,OAAO,EAAEC,MAAM,GAAG,OAAO,EAAE;EACxD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGR,QAAQ,kBAAkB,EAAE;MACrDM,MAAM,EAAE,MAAM;MACdG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP,OAAO;QAAEC;MAAO,CAAC;IAC1C,CAAC,CAAC;IACF,MAAMO,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/C,IAAI,CAACP,GAAG,CAACQ,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,OAAO,KAAI,qBAAqB,CAAC;IACpE,OAAOJ,IAAI;EACb,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZ;IACAC,OAAO,CAACC,IAAI,CAAC,wCAAwC,EAAEF,GAAG,CAACD,OAAO,CAAC;IACnE,OAAO;MAAEI,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE,IAAI;MAAEL,OAAO,EAAE;IAAoB,CAAC;EACrE;AACF;AAEA,OAAO,eAAeM,UAAUA,CAAClB,OAAO,EAAEmB,IAAI,EAAE;EAC9C,IAAI;IACF,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGR,QAAQ,oBAAoB,EAAE;MACvDM,MAAM,EAAE,MAAM;MACdG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP,OAAO;QAAEmB;MAAK,CAAC;IACxC,CAAC,CAAC;IACF,MAAMX,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/C,IAAI,CAACP,GAAG,CAACQ,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,OAAO,KAAI,uBAAuB,CAAC;IACtE,OAAOJ,IAAI;EACb,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZC,OAAO,CAACC,IAAI,CAAC,0CAA0C,EAAEF,GAAG,CAACD,OAAO,CAAC;IACrE,OAAO;MAAEQ,KAAK,EAAE,IAAI;MAAEH,KAAK,EAAE;IAAK,CAAC;EACrC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}