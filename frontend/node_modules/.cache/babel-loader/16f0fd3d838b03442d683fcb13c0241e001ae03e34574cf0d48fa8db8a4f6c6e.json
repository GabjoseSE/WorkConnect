{"ast":null,"code":"import _objectSpread from\"C:/WorkConnect/WorkConnect/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef}from'react';import{COUNTRIES as ALL_COUNTRIES}from'../../data/countries';import{useJobs}from'../../contexts/JobsContext';import'./JobPosting.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function EmployerJobs(){const{addJob}=useJobs();const[form,setForm]=useState({title:'',company:'',category:'',type:'',status:'Active',summary:'',description:'',responsibilities:'',requirements:'',preferred:'',skills:'',experienceLevel:'',educationLevel:'',minSalary:'',maxSalary:'',currency:'',salaryFrequency:'annual',benefits:'',location:'',workArrangement:'remote',deadline:'',numberOpenings:1,applicationMethod:'internal',// internal | external | email\napplicationTarget:'',postedDate:new Date().toISOString().slice(0,10),expirationDate:'',logoName:''});const[city,setCity]=useState('');const[stateOrProvince,setStateOrProvince]=useState('');const[country,setCountry]=useState('');const[countryQuery,setCountryQuery]=useState('');const[showCountryDropdown,setShowCountryDropdown]=useState(false);const[countryHighlight,setCountryHighlight]=useState(0);const countryInputRef=useRef(null);const toggleRefs=useRef({remote:null,hybrid:null,onsite:null});const[logoPreview,setLogoPreview]=useState('');const[postedSuccess,setPostedSuccess]=useState(false);const[postedId,setPostedId]=useState(null);const[errors,setErrors]=useState({});const formRef=useRef(null);const[serverConfirmed,setServerConfirmed]=useState(false);const onChange=e=>{const{name,value,type}=e.target;// keep number fields empty when cleared (don't coerce empty string to 0)\nif(type==='number'){const v=value===''?'':Number(value);setForm(_objectSpread(_objectSpread({},form),{},{[name]:v}));}else setForm(_objectSpread(_objectSpread({},form),{},{[name]:value}));// clear error for the field while typing\nsetErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:null}));};const onFileChange=e=>{const f=e.target.files&&e.target.files[0];if(!f)return;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{logoName:f.name}));// create local preview (not uploaded)\nconst reader=new FileReader();reader.onload=()=>setLogoPreview(reader.result);reader.readAsDataURL(f);};const onRemoveLogo=()=>{setLogoPreview('');setForm(prev=>_objectSpread(_objectSpread({},prev),{},{logoName:''}));// clear the hidden file input if present\nif(formRef.current){const fileInput=formRef.current.querySelector('input[type=\"file\"]#logo-upload');if(fileInput){try{fileInput.value=null;}catch(e){// fallback: replace the node\nconst replacement=fileInput.cloneNode(true);replacement.addEventListener&&replacement.addEventListener('change',onFileChange);fileInput.parentNode&&fileInput.parentNode.replaceChild(replacement,fileInput);}}}};function validate(){const next={};if(!form.title||!form.title.trim())next.title='Job title is required';if(!form.company||!form.company.trim())next.company='Company name is required';if(!form.numberOpenings||Number(form.numberOpenings)<1)next.numberOpenings='Enter at least 1 opening';// salary validation: if either min or max provided, require both and ensure min <= max\nconst minVal=form.minSalary===''?null:Number(form.minSalary);const maxVal=form.maxSalary===''?null:Number(form.maxSalary);if(minVal!==null||maxVal!==null){if(minVal===null||isNaN(minVal))next.minSalary='Enter a valid minimum salary';if(maxVal===null||isNaN(maxVal))next.maxSalary='Enter a valid maximum salary';if(minVal!==null&&maxVal!==null&&minVal>maxVal)next.minSalary='Minimum must be less than or equal to maximum';if(!form.currency||!form.currency.trim())next.currency='Select a currency';if(!form.salaryFrequency)next.salaryFrequency='Select frequency';}// application target validation\nif(form.applicationMethod==='external'){if(!form.applicationTarget||!form.applicationTarget.trim())next.applicationTarget='Application URL is required for External Link';else if(!isValidUrl(form.applicationTarget))next.applicationTarget='Please enter a valid URL (including https://)';}if(form.applicationMethod==='email'){if(!form.applicationTarget||!form.applicationTarget.trim())next.applicationTarget='Application email is required for Email method';else if(!isValidEmail(form.applicationTarget))next.applicationTarget='Please enter a valid email address';}// onsite / hybrid location validation\nif(form.workArrangement==='onsite'||form.workArrangement==='hybrid'){if(!city||!city.trim())next.city='City is required for on-site roles';if(!stateOrProvince||!stateOrProvince.trim())next.stateOrProvince='Province/State is required for on-site roles';if(!country||!country.trim())next.country='Country is required for on-site roles';}setErrors(next);return Object.keys(next).length===0;}function isValidEmail(email){return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);}function isValidUrl(url){try{const u=new URL(url);return u.protocol==='http:'||u.protocol==='https:';}catch(e){return false;}}async function onSubmit(e){var _e$preventDefault,_form$description,_uploadedLogo,_uploadedLogo2;(_e$preventDefault=e.preventDefault)===null||_e$preventDefault===void 0?void 0:_e$preventDefault.call(e);const ok=validate();if(!ok){// wait a tick for errors to render, then focus\nsetTimeout(()=>focusFirstError(),50);return;// errors set via validate()\n}// try to upload logo if a file was selected in the file input\nlet uploadedLogo=null;try{if(formRef.current){const fileInput=formRef.current.querySelector('input[type=\"file\"]');if(fileInput&&fileInput.files&&fileInput.files[0]){const f=fileInput.files[0];const fd=new FormData();fd.append('logo',f);const res=await fetch('/api/uploads/logo',{method:'POST',body:fd});if(res.ok)uploadedLogo=await res.json();else console.warn('Logo upload failed',await res.text());}}}catch(err){console.warn('Logo upload error',err);// continue without blocking job creation\n}// prepare payload — include key fields expected by backend/context\nconst payload={title:form.title,company:form.company,category:form.category,type:form.type,status:form.status,summary:form.summary||((_form$description=form.description)===null||_form$description===void 0?void 0:_form$description.slice(0,120)),description:form.description,responsibilities:form.responsibilities,requirements:form.requirements,preferred:form.preferred,skills:form.skills,experienceLevel:form.experienceLevel,educationLevel:form.educationLevel,minSalary:form.minSalary===''?null:Number(form.minSalary),maxSalary:form.maxSalary===''?null:Number(form.maxSalary),currency:form.currency,salaryFrequency:form.salaryFrequency,benefits:form.benefits,// prefer structured onsite/hybrid fields when provided\nlocation:form.workArrangement==='onsite'||form.workArrangement==='hybrid'?\"\".concat(city).concat(stateOrProvince?', '+stateOrProvince:'').concat(country?', '+country:''):form.location,city:form.workArrangement==='onsite'||form.workArrangement==='hybrid'?city:null,stateOrProvince:form.workArrangement==='onsite'||form.workArrangement==='hybrid'?stateOrProvince:null,country:form.workArrangement==='onsite'||form.workArrangement==='hybrid'?country:null,workArrangement:form.workArrangement,numberOpenings:form.numberOpenings,applicationMethod:form.applicationMethod,applicationTarget:form.applicationTarget,postedAt:form.postedDate,expirationDate:form.expirationDate,logoName:((_uploadedLogo=uploadedLogo)===null||_uploadedLogo===void 0?void 0:_uploadedLogo.name)||form.logoName||null,logoUrl:((_uploadedLogo2=uploadedLogo)===null||_uploadedLogo2===void 0?void 0:_uploadedLogo2.url)||null};try{const res=await addJob(payload);const saved=res&&res.job?res.job:null;const fromServer=res&&res.fromServer;if(saved&&saved.id)setPostedId(saved.id);if(fromServer){setServerConfirmed(true);setTimeout(()=>setServerConfirmed(false),5000);}else{// local fallback — show only inline minor banner\nsetPostedSuccess(true);setTimeout(()=>setPostedSuccess(false),4000);}}catch(e){setPostedSuccess(true);setTimeout(()=>setPostedSuccess(false),4000);}// reset form after posting\nsetForm({title:'',company:'',category:'',type:'',status:'Active',summary:'',description:'',responsibilities:'',requirements:'',preferred:'',skills:'',experienceLevel:'',educationLevel:'',minSalary:'',maxSalary:'',currency:'',salaryFrequency:'annual',benefits:'',location:'',workArrangement:'remote',deadline:'',numberOpenings:1,applicationMethod:'internal',applicationTarget:'',postedDate:new Date().toISOString().slice(0,10),expirationDate:'',logoName:''});setCity('');setStateOrProvince('');setCountry('');setCountryQuery('');setLogoPreview('');}// handle arrow navigation for segmented control\nfunction handleToggleKey(e){const order=['remote','hybrid','onsite'];const idx=order.indexOf(form.workArrangement);if(e.key==='ArrowRight'){const next=order[(idx+1)%order.length];setForm(prev=>_objectSpread(_objectSpread({},prev),{},{workArrangement:next}));setTimeout(()=>{var _toggleRefs$current$n,_toggleRefs$current$n2;return(_toggleRefs$current$n=toggleRefs.current[next])===null||_toggleRefs$current$n===void 0?void 0:(_toggleRefs$current$n2=_toggleRefs$current$n.focus)===null||_toggleRefs$current$n2===void 0?void 0:_toggleRefs$current$n2.call(_toggleRefs$current$n);},0);e.preventDefault();}else if(e.key==='ArrowLeft'){const next=order[(idx-1+order.length)%order.length];setForm(prev=>_objectSpread(_objectSpread({},prev),{},{workArrangement:next}));setTimeout(()=>{var _toggleRefs$current$n3,_toggleRefs$current$n4;return(_toggleRefs$current$n3=toggleRefs.current[next])===null||_toggleRefs$current$n3===void 0?void 0:(_toggleRefs$current$n4=_toggleRefs$current$n3.focus)===null||_toggleRefs$current$n4===void 0?void 0:_toggleRefs$current$n4.call(_toggleRefs$current$n3);},0);e.preventDefault();}}const onCountryInput=v=>{setCountryQuery(v);setShowCountryDropdown(true);setCountry(v);setCountryHighlight(0);};const filteredCountries=ALL_COUNTRIES.filter(c=>c.toLowerCase().includes((countryQuery||country).toLowerCase()));function selectCountry(c){setCountry(c);setCountryQuery(c);setShowCountryDropdown(false);setCountryHighlight(0);}function handleCountryKey(e){if(!showCountryDropdown)return;if(e.key==='ArrowDown'){setCountryHighlight(prev=>Math.min(prev+1,filteredCountries.length-1));e.preventDefault();}else if(e.key==='ArrowUp'){setCountryHighlight(prev=>Math.max(prev-1,0));e.preventDefault();}else if(e.key==='Enter'){const sel=filteredCountries[countryHighlight];if(sel)selectCountry(sel);e.preventDefault();}else if(e.key==='Escape'){setShowCountryDropdown(false);e.preventDefault();}}// If validate() fails, call this to focus and scroll to the first invalid field\nfunction focusFirstError(){const keys=Object.keys(errors||{});if(!keys.length)return;const first=keys[0];// try to find inside the form first\nlet el=null;if(formRef.current)el=formRef.current.querySelector(\"[name=\\\"\".concat(first,\"\\\"]\"));if(!el)el=document.querySelector(\"[name=\\\"\".concat(first,\"\\\"]\"));if(el&&typeof el.focus==='function'){el.focus();try{el.scrollIntoView({behavior:'smooth',block:'center'});}catch(e){/* ignore */}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"jobposting-title\",children:\"Job Posting\"}),postedSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-success\",role:\"status\",children:[/*#__PURE__*/_jsx(\"div\",{children:postedId?\"Job posted successfully (id: \".concat(postedId,\").\"):'Job posted successfully.'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"jobposting-success-close\",onClick:()=>setPostedSuccess(false),\"aria-label\":\"Dismiss\",children:\"\\u2715\"})]}),serverConfirmed&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-server-modal\",role:\"dialog\",\"aria-live\":\"polite\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-server-modal-inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-server-title\",children:\"Job posted successfully\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-server-body\",children:[\"Your job has been saved to the server.\",postedId?\" ID: \".concat(postedId):'']}),/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-server-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"jobposting-btn\",onClick:()=>setServerConfirmed(false),children:\"OK\"})})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"jobposting-form\",onSubmit:onSubmit,ref:formRef,children:[/*#__PURE__*/_jsxs(\"section\",{className:\"jobposting-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"1. Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",placeholder:\"Job Title\",value:form.title,onChange:onChange,className:\"jobposting-input \".concat(errors.title?'invalid':'')}),errors.title&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"company\",placeholder:\"Company Name\",value:form.company,onChange:onChange,className:\"jobposting-input \".concat(errors.company?'invalid':'')}),errors.company&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.company})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:form.type,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Employment Type\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Full-time\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Part-time\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Contract\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Internship\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:form.category,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Job Category\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Engineering\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Accounting\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Work arrangement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-row\",role:\"tablist\",\"aria-label\":\"Work arrangement\",onKeyDown:handleToggleKey,children:[/*#__PURE__*/_jsx(\"button\",{ref:el=>toggleRefs.current.remote=el,type:\"button\",className:\"toggle-btn \".concat(form.workArrangement==='remote'?'active':''),onClick:()=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{workArrangement:'remote'})),\"aria-pressed\":form.workArrangement==='remote',children:\"Remote\"}),/*#__PURE__*/_jsx(\"button\",{ref:el=>toggleRefs.current.hybrid=el,type:\"button\",className:\"toggle-btn \".concat(form.workArrangement==='hybrid'?'active':''),onClick:()=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{workArrangement:'hybrid'})),\"aria-pressed\":form.workArrangement==='hybrid',children:\"Hybrid\"}),/*#__PURE__*/_jsx(\"button\",{ref:el=>toggleRefs.current.onsite=el,type:\"button\",className:\"toggle-btn \".concat(form.workArrangement==='onsite'?'active':''),onClick:()=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{workArrangement:'onsite'})),\"aria-pressed\":form.workArrangement==='onsite',children:\"On-site\"})]})]}),form.workArrangement==='remote'?/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",htmlFor:\"location\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{id:\"location\",name:\"location\",className:\"jobposting-input \".concat(errors.location?'invalid':''),value:form.location,onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{location:e.target.value})),placeholder:\"Optional: e.g. Remote or timezone (e.g. UTC-5)\"}),errors.location&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.location})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"location-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{id:\"city\",name:\"city\",className:\"jobposting-input \".concat(errors.city?'invalid':''),value:city,onChange:e=>setCity(e.target.value),placeholder:\"e.g. Vancouver\"}),errors.city&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.city})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",htmlFor:\"stateOrProvince\",children:\"Province / State\"}),/*#__PURE__*/_jsx(\"input\",{id:\"stateOrProvince\",name:\"stateOrProvince\",className:\"jobposting-input \".concat(errors.stateOrProvince?'invalid':''),value:stateOrProvince,onChange:e=>setStateOrProvince(e.target.value),placeholder:\"e.g. BC / California\"}),errors.stateOrProvince&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.stateOrProvince})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",htmlFor:\"country\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{id:\"country\",name:\"country\",ref:countryInputRef,className:\"jobposting-input \".concat(errors.country?'invalid':''),value:countryQuery||country,onChange:e=>onCountryInput(e.target.value),onKeyDown:handleCountryKey,onFocus:()=>setShowCountryDropdown(true),placeholder:\"Start typing to search country\",autoComplete:\"off\"}),showCountryDropdown&&filteredCountries.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"country-dropdown\",role:\"listbox\",style:{position:'absolute',zIndex:40,background:'#fff',border:'1px solid #e6e9ee',width:'100%',marginTop:6,borderRadius:8,maxHeight:180,overflow:'auto'},children:filteredCountries.map((c,i)=>/*#__PURE__*/_jsx(\"li\",{role:\"option\",\"aria-selected\":countryHighlight===i,onMouseDown:ev=>{ev.preventDefault();selectCountry(c);},onMouseEnter:()=>setCountryHighlight(i),style:{padding:'8px 10px',background:countryHighlight===i?'#f1f5f9':'#fff',cursor:'pointer'},children:c},c))}),errors.country&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.country})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-flex\",children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Company Logo (optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-row\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"jobposting-file\",htmlFor:\"logo-upload\",style:{display:'inline-flex',gap:8,alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":true,children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 16V4\",stroke:\"#0aa96f\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 8l4-4 4 4\",stroke:\"#0aa96f\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"18\",width:\"18\",height:\"2\",rx:\"1\",fill:\"#0aa96f\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload logo\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"logo-upload\",type:\"file\",accept:\"image/*\",onChange:onFileChange,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-preview-wrap\",children:[logoPreview?/*#__PURE__*/_jsx(\"img\",{src:logoPreview,alt:\"logo\",className:\"logo-preview\"}):/*#__PURE__*/_jsx(\"div\",{className:\"logo-placeholder\",children:\"No logo uploaded\"}),(logoPreview||form.logoName)&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"logo-remove-overlay\",\"aria-label\":\"Remove logo\",onClick:onRemoveLogo,children:\"\\xD7\"})]})]})]})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"jobposting-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"2. Job Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-grid\",children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Job Description\",value:form.description,onChange:onChange,className:\"jobposting-textarea \".concat(errors.description?'invalid':'')}),errors.description&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.description}),/*#__PURE__*/_jsx(\"textarea\",{name:\"responsibilities\",placeholder:\"Responsibilities\",value:form.responsibilities,onChange:onChange,className:\"jobposting-textarea \".concat(errors.responsibilities?'invalid':'')}),errors.responsibilities&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.responsibilities}),/*#__PURE__*/_jsx(\"textarea\",{name:\"requirements\",placeholder:\"Qualifications / Requirements\",value:form.requirements,onChange:onChange,className:\"jobposting-textarea \".concat(errors.requirements?'invalid':'')}),errors.requirements&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.requirements}),/*#__PURE__*/_jsx(\"input\",{name:\"skills\",placeholder:\"Skills (comma separated)\",value:form.skills,onChange:onChange,className:\"jobposting-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-flex\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"experienceLevel\",value:form.experienceLevel,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Experience Level\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Entry\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mid\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Senior\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"educationLevel\",value:form.educationLevel,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Education Level\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Bachelor's\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Master's\"}),/*#__PURE__*/_jsx(\"option\",{children:\"PhD\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"jobposting-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"3. Compensation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"salary-row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"minSalary\",placeholder:\"Min salary\",value:form.minSalary,onChange:onChange,className:\"jobposting-input \".concat(errors.minSalary?'invalid':'')}),errors.minSalary&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.minSalary})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"maxSalary\",placeholder:\"Max salary\",value:form.maxSalary,onChange:onChange,className:\"jobposting-input \".concat(errors.maxSalary?'invalid':'')}),errors.maxSalary&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.maxSalary})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"currency\",value:form.currency,onChange:onChange,className:\"jobposting-input \".concat(errors.currency?'invalid':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Currency\"}),/*#__PURE__*/_jsx(\"option\",{children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{children:\"EUR\"}),/*#__PURE__*/_jsx(\"option\",{children:\"GBP\"}),/*#__PURE__*/_jsx(\"option\",{children:\"NGN\"}),/*#__PURE__*/_jsx(\"option\",{children:\"INR\"})]}),errors.currency&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.currency})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"salaryFrequency\",value:form.salaryFrequency,onChange:onChange,className:\"jobposting-input \".concat(errors.salaryFrequency?'invalid':''),children:[/*#__PURE__*/_jsx(\"option\",{value:\"annual\",children:\"Annual\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hourly\",children:\"Hourly\"})]}),errors.salaryFrequency&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.salaryFrequency})]})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"benefits\",placeholder:\"Benefits (comma separated)\",value:form.benefits,onChange:onChange,className:\"jobposting-textarea\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"jobposting-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"4. Application Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Application Deadline\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"deadline\",value:form.deadline,onChange:onChange,className:\"jobposting-input \".concat(errors.deadline?'invalid':'')}),errors.deadline&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.deadline})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Number of Openings\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"numberOpenings\",value:form.numberOpenings,onChange:onChange,className:\"jobposting-input \".concat(errors.numberOpenings?'invalid':'')}),errors.numberOpenings&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.numberOpenings})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Application Method\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"applicationMethod\",value:form.applicationMethod,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"internal\",children:\"Internal Button\"}),/*#__PURE__*/_jsx(\"option\",{value:\"external\",children:\"External Link\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email\",children:\"Email\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:(form.applicationMethod==='external'||form.applicationMethod==='email')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Application Target\"}),/*#__PURE__*/_jsx(\"input\",{name:\"applicationTarget\",placeholder:form.applicationMethod==='external'?'Application URL':'Application Email',value:form.applicationTarget,onChange:onChange,className:\"jobposting-input \".concat(errors.applicationTarget?'invalid':'')}),errors.applicationTarget&&/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-error\",children:errors.applicationTarget})]})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"jobposting-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"5. Additional Metadata\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobposting-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Posted Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"postedDate\",value:form.postedDate,onChange:onChange,className:\"jobposting-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Expiration Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"expirationDate\",value:form.expirationDate,onChange:onChange,className:\"jobposting-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:form.status,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Closed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"jobposting-small-label\",children:\"Experience Level\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"experienceLevel\",value:form.experienceLevel,onChange:onChange,className:\"jobposting-input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Entry\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mid\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Senior\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"jobposting-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"jobposting-btn\",children:\"Post Job\"})})]})]});}// styles moved to JobPosting.css","map":{"version":3,"names":["React","useState","useRef","COUNTRIES","ALL_COUNTRIES","useJobs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmployerJobs","addJob","form","setForm","title","company","category","type","status","summary","description","responsibilities","requirements","preferred","skills","experienceLevel","educationLevel","minSalary","maxSalary","currency","salaryFrequency","benefits","location","workArrangement","deadline","numberOpenings","applicationMethod","applicationTarget","postedDate","Date","toISOString","slice","expirationDate","logoName","city","setCity","stateOrProvince","setStateOrProvince","country","setCountry","countryQuery","setCountryQuery","showCountryDropdown","setShowCountryDropdown","countryHighlight","setCountryHighlight","countryInputRef","toggleRefs","remote","hybrid","onsite","logoPreview","setLogoPreview","postedSuccess","setPostedSuccess","postedId","setPostedId","errors","setErrors","formRef","serverConfirmed","setServerConfirmed","onChange","e","name","value","target","v","Number","_objectSpread","prev","onFileChange","f","files","reader","FileReader","onload","result","readAsDataURL","onRemoveLogo","current","fileInput","querySelector","replacement","cloneNode","addEventListener","parentNode","replaceChild","validate","next","trim","minVal","maxVal","isNaN","isValidUrl","isValidEmail","Object","keys","length","email","test","url","u","URL","protocol","onSubmit","_e$preventDefault","_form$description","_uploadedLogo","_uploadedLogo2","preventDefault","call","ok","setTimeout","focusFirstError","uploadedLogo","fd","FormData","append","res","fetch","method","body","json","console","warn","text","err","payload","concat","postedAt","logoUrl","saved","job","fromServer","id","handleToggleKey","order","idx","indexOf","key","_toggleRefs$current$n","_toggleRefs$current$n2","focus","_toggleRefs$current$n3","_toggleRefs$current$n4","onCountryInput","filteredCountries","filter","c","toLowerCase","includes","selectCountry","handleCountryKey","Math","min","max","sel","first","el","document","scrollIntoView","behavior","block","className","children","role","onClick","ref","placeholder","onKeyDown","htmlFor","style","position","onFocus","autoComplete","zIndex","background","border","width","marginTop","borderRadius","maxHeight","overflow","map","i","onMouseDown","ev","onMouseEnter","padding","cursor","flex","display","gap","alignItems","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x","y","rx","accept","src","alt"],"sources":["C:/WorkConnect/WorkConnect/frontend/src/pages/employer_dashboard/JobPosting.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { COUNTRIES as ALL_COUNTRIES } from '../../data/countries';\r\nimport { useJobs } from '../../contexts/JobsContext';\r\nimport './JobPosting.css';\r\n\r\nexport default function EmployerJobs() {\r\n  const { addJob } = useJobs();\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    company: '',\r\n    category: '',\r\n    type: '',\r\n    status: 'Active',\r\n    summary: '',\r\n    description: '',\r\n    responsibilities: '',\r\n    requirements: '',\r\n    preferred: '',\r\n    skills: '',\r\n    experienceLevel: '',\r\n    educationLevel: '',\r\n  minSalary: '',\r\n  maxSalary: '',\r\n  currency: '',\r\n  salaryFrequency: 'annual',\r\n    benefits: '',\r\n    location: '',\r\n    workArrangement: 'remote',\r\n    deadline: '',\r\n    numberOpenings: 1,\r\n    applicationMethod: 'internal', // internal | external | email\r\n    applicationTarget: '',\r\n    postedDate: new Date().toISOString().slice(0,10),\r\n    expirationDate: '',\r\n    logoName: '',\r\n  });\r\n  const [city, setCity] = useState('');\r\n  const [stateOrProvince, setStateOrProvince] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [countryQuery, setCountryQuery] = useState('');\r\n  const [showCountryDropdown, setShowCountryDropdown] = useState(false);\r\n  const [countryHighlight, setCountryHighlight] = useState(0);\r\n  const countryInputRef = useRef(null);\r\n  const toggleRefs = useRef({ remote: null, hybrid: null, onsite: null });\r\n\r\n\r\n  const [logoPreview, setLogoPreview] = useState('');\r\n  const [postedSuccess, setPostedSuccess] = useState(false);\r\n  const [postedId, setPostedId] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  const formRef = useRef(null);\r\n  const [serverConfirmed, setServerConfirmed] = useState(false);\r\n\r\n  const onChange = (e) => {\r\n    const { name, value, type } = e.target;\r\n    // keep number fields empty when cleared (don't coerce empty string to 0)\r\n    if (type === 'number') {\r\n      const v = value === '' ? '' : Number(value);\r\n      setForm({ ...form, [name]: v });\r\n    } else setForm({ ...form, [name]: value });\r\n    // clear error for the field while typing\r\n    setErrors(prev => ({ ...prev, [name]: null }));\r\n  };\r\n\r\n  const onFileChange = (e) => {\r\n    const f = e.target.files && e.target.files[0];\r\n    if (!f) return;\r\n    setForm(prev => ({ ...prev, logoName: f.name }));\r\n    // create local preview (not uploaded)\r\n    const reader = new FileReader();\r\n    reader.onload = () => setLogoPreview(reader.result);\r\n    reader.readAsDataURL(f);\r\n  };\r\n\r\n  const onRemoveLogo = () => {\r\n    setLogoPreview('');\r\n    setForm(prev => ({ ...prev, logoName: '' }));\r\n    // clear the hidden file input if present\r\n    if (formRef.current) {\r\n      const fileInput = formRef.current.querySelector('input[type=\"file\"]#logo-upload');\r\n      if (fileInput) {\r\n        try {\r\n          fileInput.value = null;\r\n        } catch (e) {\r\n          // fallback: replace the node\r\n          const replacement = fileInput.cloneNode(true);\r\n          replacement.addEventListener && replacement.addEventListener('change', onFileChange);\r\n          fileInput.parentNode && fileInput.parentNode.replaceChild(replacement, fileInput);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function validate() {\r\n    const next = {};\r\n    if (!form.title || !form.title.trim()) next.title = 'Job title is required';\r\n    if (!form.company || !form.company.trim()) next.company = 'Company name is required';\r\n    if (!form.numberOpenings || Number(form.numberOpenings) < 1) next.numberOpenings = 'Enter at least 1 opening';\r\n\r\n    // salary validation: if either min or max provided, require both and ensure min <= max\r\n    const minVal = form.minSalary === '' ? null : Number(form.minSalary);\r\n    const maxVal = form.maxSalary === '' ? null : Number(form.maxSalary);\r\n    if (minVal !== null || maxVal !== null) {\r\n      if (minVal === null || isNaN(minVal)) next.minSalary = 'Enter a valid minimum salary';\r\n      if (maxVal === null || isNaN(maxVal)) next.maxSalary = 'Enter a valid maximum salary';\r\n      if ((minVal !== null && maxVal !== null) && minVal > maxVal) next.minSalary = 'Minimum must be less than or equal to maximum';\r\n      if (!form.currency || !form.currency.trim()) next.currency = 'Select a currency';\r\n      if (!form.salaryFrequency) next.salaryFrequency = 'Select frequency';\r\n    }\r\n\r\n    // application target validation\r\n    if (form.applicationMethod === 'external') {\r\n      if (!form.applicationTarget || !form.applicationTarget.trim()) next.applicationTarget = 'Application URL is required for External Link';\r\n      else if (!isValidUrl(form.applicationTarget)) next.applicationTarget = 'Please enter a valid URL (including https://)';\r\n    }\r\n    if (form.applicationMethod === 'email') {\r\n      if (!form.applicationTarget || !form.applicationTarget.trim()) next.applicationTarget = 'Application email is required for Email method';\r\n      else if (!isValidEmail(form.applicationTarget)) next.applicationTarget = 'Please enter a valid email address';\r\n    }\r\n\r\n    // onsite / hybrid location validation\r\n    if (form.workArrangement === 'onsite' || form.workArrangement === 'hybrid') {\r\n      if (!city || !city.trim()) next.city = 'City is required for on-site roles';\r\n      if (!stateOrProvince || !stateOrProvince.trim()) next.stateOrProvince = 'Province/State is required for on-site roles';\r\n      if (!country || !country.trim()) next.country = 'Country is required for on-site roles';\r\n    }\r\n\r\n    setErrors(next);\r\n    return Object.keys(next).length === 0;\r\n  }\r\n\r\n  function isValidEmail(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n  }\r\n\r\n  function isValidUrl(url) {\r\n    try {\r\n      const u = new URL(url);\r\n      return u.protocol === 'http:' || u.protocol === 'https:';\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async function onSubmit(e) {\r\n    e.preventDefault?.();\r\n    const ok = validate();\r\n    if (!ok) {\r\n      // wait a tick for errors to render, then focus\r\n      setTimeout(() => focusFirstError(), 50);\r\n      return; // errors set via validate()\r\n    }\r\n    // try to upload logo if a file was selected in the file input\r\n    let uploadedLogo = null;\r\n    try {\r\n      if (formRef.current) {\r\n        const fileInput = formRef.current.querySelector('input[type=\"file\"]');\r\n        if (fileInput && fileInput.files && fileInput.files[0]) {\r\n          const f = fileInput.files[0];\r\n          const fd = new FormData();\r\n          fd.append('logo', f);\r\n          const res = await fetch('/api/uploads/logo', { method: 'POST', body: fd });\r\n          if (res.ok) uploadedLogo = await res.json();\r\n          else console.warn('Logo upload failed', await res.text());\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.warn('Logo upload error', err);\r\n      // continue without blocking job creation\r\n    }\r\n\r\n  // prepare payload — include key fields expected by backend/context\r\n    const payload = {\r\n      title: form.title,\r\n      company: form.company,\r\n      category: form.category,\r\n      type: form.type,\r\n      status: form.status,\r\n      summary: form.summary || form.description?.slice(0, 120),\r\n      description: form.description,\r\n      responsibilities: form.responsibilities,\r\n      requirements: form.requirements,\r\n      preferred: form.preferred,\r\n      skills: form.skills,\r\n      experienceLevel: form.experienceLevel,\r\n      educationLevel: form.educationLevel,\r\n  minSalary: form.minSalary === '' ? null : Number(form.minSalary),\r\n  maxSalary: form.maxSalary === '' ? null : Number(form.maxSalary),\r\n  currency: form.currency,\r\n    salaryFrequency: form.salaryFrequency,\r\n      benefits: form.benefits,\r\n  // prefer structured onsite/hybrid fields when provided\r\n  location: (form.workArrangement === 'onsite' || form.workArrangement === 'hybrid') ? `${city}${stateOrProvince ? ', ' + stateOrProvince : ''}${country ? ', ' + country : ''}` : form.location,\r\n  city: (form.workArrangement === 'onsite' || form.workArrangement === 'hybrid') ? city : null,\r\n  stateOrProvince: (form.workArrangement === 'onsite' || form.workArrangement === 'hybrid') ? stateOrProvince : null,\r\n  country: (form.workArrangement === 'onsite' || form.workArrangement === 'hybrid') ? country : null,\r\n      workArrangement: form.workArrangement,\r\n      numberOpenings: form.numberOpenings,\r\n      applicationMethod: form.applicationMethod,\r\n      applicationTarget: form.applicationTarget,\r\n      postedAt: form.postedDate,\r\n      expirationDate: form.expirationDate,\r\n      logoName: uploadedLogo?.name || form.logoName || null,\r\n      logoUrl: uploadedLogo?.url || null,\r\n    };\r\n\r\n    try {\r\n      const res = await addJob(payload);\r\n      const saved = res && res.job ? res.job : null;\r\n      const fromServer = res && res.fromServer;\r\n      if (saved && saved.id) setPostedId(saved.id);\r\n      if (fromServer) {\r\n        setServerConfirmed(true);\r\n        setTimeout(() => setServerConfirmed(false), 5000);\r\n      } else {\r\n        // local fallback — show only inline minor banner\r\n        setPostedSuccess(true);\r\n        setTimeout(() => setPostedSuccess(false), 4000);\r\n      }\r\n    } catch (e) {\r\n      setPostedSuccess(true);\r\n      setTimeout(() => setPostedSuccess(false), 4000);\r\n    }\r\n\r\n    // reset form after posting\r\n    setForm({\r\n      title: '',\r\n      company: '',\r\n      category: '',\r\n      type: '',\r\n      status: 'Active',\r\n      summary: '',\r\n      description: '',\r\n      responsibilities: '',\r\n      requirements: '',\r\n      preferred: '',\r\n      skills: '',\r\n      experienceLevel: '',\r\n      educationLevel: '',\r\n  minSalary: '',\r\n  maxSalary: '',\r\n  currency: '',\r\n  salaryFrequency: 'annual',\r\n      benefits: '',\r\n      location: '',\r\n      workArrangement: 'remote',\r\n      deadline: '',\r\n      numberOpenings: 1,\r\n      applicationMethod: 'internal',\r\n      applicationTarget: '',\r\n      postedDate: new Date().toISOString().slice(0,10),\r\n      expirationDate: '',\r\n      logoName: '',\r\n    });\r\n    setCity('');\r\n    setStateOrProvince('');\r\n    setCountry('');\r\n    setCountryQuery('');\r\n    setLogoPreview('');\r\n  }\r\n\r\n  // handle arrow navigation for segmented control\r\n  function handleToggleKey(e) {\r\n    const order = ['remote','hybrid','onsite'];\r\n    const idx = order.indexOf(form.workArrangement);\r\n    if (e.key === 'ArrowRight') {\r\n      const next = order[(idx + 1) % order.length];\r\n      setForm(prev => ({ ...prev, workArrangement: next }));\r\n      setTimeout(() => toggleRefs.current[next]?.focus?.(), 0);\r\n      e.preventDefault();\r\n    } else if (e.key === 'ArrowLeft') {\r\n      const next = order[(idx - 1 + order.length) % order.length];\r\n      setForm(prev => ({ ...prev, workArrangement: next }));\r\n      setTimeout(() => toggleRefs.current[next]?.focus?.(), 0);\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  const onCountryInput = (v) => {\r\n    setCountryQuery(v);\r\n    setShowCountryDropdown(true);\r\n    setCountry(v);\r\n    setCountryHighlight(0);\r\n  };\r\n\r\n  const filteredCountries = ALL_COUNTRIES.filter(c => c.toLowerCase().includes((countryQuery || country).toLowerCase()));\r\n\r\n  function selectCountry(c) {\r\n    setCountry(c);\r\n    setCountryQuery(c);\r\n    setShowCountryDropdown(false);\r\n    setCountryHighlight(0);\r\n  }\r\n\r\n  function handleCountryKey(e) {\r\n    if (!showCountryDropdown) return;\r\n    if (e.key === 'ArrowDown') {\r\n      setCountryHighlight(prev => Math.min(prev + 1, filteredCountries.length - 1));\r\n      e.preventDefault();\r\n    } else if (e.key === 'ArrowUp') {\r\n      setCountryHighlight(prev => Math.max(prev - 1, 0));\r\n      e.preventDefault();\r\n    } else if (e.key === 'Enter') {\r\n      const sel = filteredCountries[countryHighlight];\r\n      if (sel) selectCountry(sel);\r\n      e.preventDefault();\r\n    } else if (e.key === 'Escape') {\r\n      setShowCountryDropdown(false);\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  // If validate() fails, call this to focus and scroll to the first invalid field\r\n  function focusFirstError() {\r\n    const keys = Object.keys(errors || {});\r\n    if (!keys.length) return;\r\n    const first = keys[0];\r\n    // try to find inside the form first\r\n    let el = null;\r\n    if (formRef.current) el = formRef.current.querySelector(`[name=\"${first}\"]`);\r\n    if (!el) el = document.querySelector(`[name=\"${first}\"]`);\r\n    if (el && typeof el.focus === 'function') {\r\n      el.focus();\r\n      try { el.scrollIntoView({ behavior: 'smooth', block: 'center' }); } catch (e) { /* ignore */ }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"jobposting-container\">\r\n      <h1 className=\"jobposting-title\">Job Posting</h1>\r\n\r\n      {postedSuccess && (\r\n        <div className=\"jobposting-success\" role=\"status\">\r\n          <div>{postedId ? `Job posted successfully (id: ${postedId}).` : 'Job posted successfully.'}</div>\r\n          <button type=\"button\" className=\"jobposting-success-close\" onClick={() => setPostedSuccess(false)} aria-label=\"Dismiss\">✕</button>\r\n        </div>\r\n      )}\r\n\r\n      {serverConfirmed && (\r\n        <div className=\"jobposting-server-modal\" role=\"dialog\" aria-live=\"polite\">\r\n          <div className=\"jobposting-server-modal-inner\">\r\n            <div className=\"jobposting-server-title\">Job posted successfully</div>\r\n            <div className=\"jobposting-server-body\">Your job has been saved to the server.{postedId ? ` ID: ${postedId}` : ''}</div>\r\n            <div className=\"jobposting-server-actions\">\r\n              <button className=\"jobposting-btn\" onClick={() => setServerConfirmed(false)}>OK</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n  <form className=\"jobposting-form\" onSubmit={onSubmit} ref={formRef}>\r\n\r\n        {/* 1. Basic Information */}\r\n        <section className=\"jobposting-section\">\r\n          <h3>1. Basic Information</h3>\r\n          <div className=\"jobposting-grid-2\">\r\n            <div>\r\n              <input name=\"title\" placeholder=\"Job Title\" value={form.title} onChange={onChange} className={`jobposting-input ${errors.title ? 'invalid' : ''}`} />\r\n              {errors.title && <div className=\"jobposting-error\">{errors.title}</div>}\r\n            </div>\r\n            <div>\r\n              <input name=\"company\" placeholder=\"Company Name\" value={form.company} onChange={onChange} className={`jobposting-input ${errors.company ? 'invalid' : ''}`} />\r\n              {errors.company && <div className=\"jobposting-error\">{errors.company}</div>}\r\n            </div>\r\n            <select name=\"type\" value={form.type} onChange={onChange} className=\"jobposting-input\">\r\n              <option value=\"\">Employment Type</option>\r\n              <option>Full-time</option>\r\n              <option>Part-time</option>\r\n              <option>Contract</option>\r\n              <option>Internship</option>\r\n            </select>\r\n            <select name=\"category\" value={form.category} onChange={onChange} className=\"jobposting-input\">\r\n              <option value=\"\">Job Category</option>\r\n              <option>Engineering</option>\r\n              <option>Design</option>\r\n              <option>Product</option>\r\n              <option>Marketing</option>\r\n              <option>Accounting</option>\r\n            </select>\r\n            \r\n        <div className=\"form-row\">\r\n          <label className=\"jobposting-small-label\">Work arrangement</label>\r\n          <div className=\"toggle-row\" role=\"tablist\" aria-label=\"Work arrangement\" onKeyDown={handleToggleKey}>\r\n            <button\r\n              ref={el => toggleRefs.current.remote = el}\r\n              type=\"button\"\r\n              className={`toggle-btn ${form.workArrangement === 'remote' ? 'active' : ''}`}\r\n              onClick={() => setForm(prev => ({ ...prev, workArrangement: 'remote' }))}\r\n              aria-pressed={form.workArrangement === 'remote'}\r\n            >\r\n              Remote\r\n            </button>\r\n            <button\r\n              ref={el => toggleRefs.current.hybrid = el}\r\n              type=\"button\"\r\n              className={`toggle-btn ${form.workArrangement === 'hybrid' ? 'active' : ''}`}\r\n              onClick={() => setForm(prev => ({ ...prev, workArrangement: 'hybrid' }))}\r\n              aria-pressed={form.workArrangement === 'hybrid'}\r\n            >\r\n              Hybrid\r\n            </button>\r\n            <button\r\n              ref={el => toggleRefs.current.onsite = el}\r\n              type=\"button\"\r\n              className={`toggle-btn ${form.workArrangement === 'onsite' ? 'active' : ''}`}\r\n              onClick={() => setForm(prev => ({ ...prev, workArrangement: 'onsite' }))}\r\n              aria-pressed={form.workArrangement === 'onsite'}\r\n            >\r\n              On-site\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {form.workArrangement === 'remote' ? (\r\n          <div className=\"form-row\">\r\n            <label className=\"jobposting-small-label\" htmlFor=\"location\">Location</label>\r\n            <input\r\n              id=\"location\"\r\n              name=\"location\"\r\n              className={`jobposting-input ${errors.location ? 'invalid' : ''}`}\r\n              value={form.location}\r\n              onChange={(e) => setForm(prev => ({ ...prev, location: e.target.value }))}\r\n              placeholder=\"Optional: e.g. Remote or timezone (e.g. UTC-5)\"\r\n            />\r\n            {errors.location && <div className=\"jobposting-error\">{errors.location}</div>}\r\n          </div>\r\n        ) : (\r\n          <div className=\"location-grid\">\r\n            <div className=\"form-row\">\r\n              <label className=\"jobposting-small-label\" htmlFor=\"city\">City</label>\r\n              <input\r\n                id=\"city\"\r\n                name=\"city\"\r\n                className={`jobposting-input ${errors.city ? 'invalid' : ''}`}\r\n                value={city}\r\n                onChange={(e) => setCity(e.target.value)}\r\n                placeholder=\"e.g. Vancouver\"\r\n              />\r\n              {errors.city && <div className=\"jobposting-error\">{errors.city}</div>}\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <label className=\"jobposting-small-label\" htmlFor=\"stateOrProvince\">Province / State</label>\r\n              <input\r\n                id=\"stateOrProvince\"\r\n                name=\"stateOrProvince\"\r\n                className={`jobposting-input ${errors.stateOrProvince ? 'invalid' : ''}`}\r\n                value={stateOrProvince}\r\n                onChange={(e) => setStateOrProvince(e.target.value)}\r\n                placeholder=\"e.g. BC / California\"\r\n              />\r\n              {errors.stateOrProvince && <div className=\"jobposting-error\">{errors.stateOrProvince}</div>}\r\n            </div>\r\n            <div className=\"form-row\" style={{ position: 'relative' }}>\r\n              <label className=\"jobposting-small-label\" htmlFor=\"country\">Country</label>\r\n              <input\r\n                id=\"country\"\r\n                name=\"country\"\r\n                ref={countryInputRef}\r\n                className={`jobposting-input ${errors.country ? 'invalid' : ''}`}\r\n                value={countryQuery || country}\r\n                onChange={(e) => onCountryInput(e.target.value)}\r\n                onKeyDown={handleCountryKey}\r\n                onFocus={() => setShowCountryDropdown(true)}\r\n                placeholder=\"Start typing to search country\"\r\n                autoComplete=\"off\"\r\n              />\r\n              {showCountryDropdown && filteredCountries.length > 0 && (\r\n                <ul className=\"country-dropdown\" role=\"listbox\" style={{ position: 'absolute', zIndex: 40, background: '#fff', border: '1px solid #e6e9ee', width: '100%', marginTop: 6, borderRadius: 8, maxHeight: 180, overflow: 'auto' }}>\r\n                  {filteredCountries.map((c, i) => (\r\n                    <li key={c}\r\n                      role=\"option\"\r\n                      aria-selected={countryHighlight === i}\r\n                      onMouseDown={(ev) => { ev.preventDefault(); selectCountry(c); }}\r\n                      onMouseEnter={() => setCountryHighlight(i)}\r\n                      style={{ padding: '8px 10px', background: countryHighlight === i ? '#f1f5f9' : '#fff', cursor: 'pointer' }}\r\n                    >{c}</li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n              {errors.country && <div className=\"jobposting-error\">{errors.country}</div>}\r\n            </div>\r\n          </div>\r\n        )}\r\n            <div className=\"jobposting-flex\">\r\n              <div style={{ flex: 1 }}>\r\n                <label className=\"jobposting-small-label\">Company Logo (optional)</label>\r\n                <div className=\"logo-row\">\r\n                  <label className=\"jobposting-file\" htmlFor=\"logo-upload\" style={{ display: 'inline-flex', gap: 8, alignItems: 'center', cursor: 'pointer' }}>\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden>\r\n                      <path d=\"M12 16V4\" stroke=\"#0aa96f\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      <path d=\"M8 8l4-4 4 4\" stroke=\"#0aa96f\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      <rect x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\" fill=\"#0aa96f\" />\r\n                    </svg>\r\n                    <span>Upload logo</span>\r\n                  </label>\r\n                  <input id=\"logo-upload\" type=\"file\" accept=\"image/*\" onChange={onFileChange} style={{ display: 'none' }} />\r\n                  <div className=\"logo-preview-wrap\">\r\n                    {logoPreview ? (\r\n                      <img src={logoPreview} alt=\"logo\" className=\"logo-preview\" />\r\n                    ) : (\r\n                      <div className=\"logo-placeholder\">No logo uploaded</div>\r\n                    )}\r\n                    {(logoPreview || form.logoName) && (\r\n                      <button type=\"button\" className=\"logo-remove-overlay\" aria-label=\"Remove logo\" onClick={onRemoveLogo}>\r\n                        ×\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* 2. Job Details */}\r\n        <section className=\"jobposting-section\">\r\n          <h3>2. Job Details</h3>\r\n          <div className=\"jobposting-grid\">\r\n            <textarea name=\"description\" placeholder=\"Job Description\" value={form.description} onChange={onChange} className={`jobposting-textarea ${errors.description ? 'invalid' : ''}`} />\r\n            {errors.description && <div className=\"jobposting-error\">{errors.description}</div>}\r\n            <textarea name=\"responsibilities\" placeholder=\"Responsibilities\" value={form.responsibilities} onChange={onChange} className={`jobposting-textarea ${errors.responsibilities ? 'invalid' : ''}`} />\r\n            {errors.responsibilities && <div className=\"jobposting-error\">{errors.responsibilities}</div>}\r\n            <textarea name=\"requirements\" placeholder=\"Qualifications / Requirements\" value={form.requirements} onChange={onChange} className={`jobposting-textarea ${errors.requirements ? 'invalid' : ''}`} />\r\n            {errors.requirements && <div className=\"jobposting-error\">{errors.requirements}</div>}\r\n            <input name=\"skills\" placeholder=\"Skills (comma separated)\" value={form.skills} onChange={onChange} className=\"jobposting-input\" />\r\n            <div className=\"jobposting-flex\">\r\n              <select name=\"experienceLevel\" value={form.experienceLevel} onChange={onChange} className=\"jobposting-input\">\r\n                <option value=\"\">Experience Level</option>\r\n                <option>Entry</option>\r\n                <option>Mid</option>\r\n                <option>Senior</option>\r\n              </select>\r\n              <select name=\"educationLevel\" value={form.educationLevel} onChange={onChange} className=\"jobposting-input\">\r\n                <option value=\"\">Education Level</option>\r\n                <option>Bachelor's</option>\r\n                <option>Master's</option>\r\n                <option>PhD</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* 3. Compensation */}\r\n        <section className=\"jobposting-section\">\r\n          <h3>3. Compensation</h3>\r\n          <div className=\"jobposting-grid\">\r\n            <div className=\"salary-row\">\r\n              <div>\r\n                <input type=\"number\" name=\"minSalary\" placeholder=\"Min salary\" value={form.minSalary} onChange={onChange} className={`jobposting-input ${errors.minSalary ? 'invalid' : ''}`} />\r\n                {errors.minSalary && <div className=\"jobposting-error\">{errors.minSalary}</div>}\r\n              </div>\r\n              <div>\r\n                <input type=\"number\" name=\"maxSalary\" placeholder=\"Max salary\" value={form.maxSalary} onChange={onChange} className={`jobposting-input ${errors.maxSalary ? 'invalid' : ''}`} />\r\n                {errors.maxSalary && <div className=\"jobposting-error\">{errors.maxSalary}</div>}\r\n              </div>\r\n              <div>\r\n                <select name=\"currency\" value={form.currency} onChange={onChange} className={`jobposting-input ${errors.currency ? 'invalid' : ''}`}>\r\n                  <option value=\"\">Currency</option>\r\n                  <option>USD</option>\r\n                  <option>EUR</option>\r\n                  <option>GBP</option>\r\n                  <option>NGN</option>\r\n                  <option>INR</option>\r\n                </select>\r\n                {errors.currency && <div className=\"jobposting-error\">{errors.currency}</div>}\r\n              </div>\r\n              <div>\r\n                <select name=\"salaryFrequency\" value={form.salaryFrequency} onChange={onChange} className={`jobposting-input ${errors.salaryFrequency ? 'invalid' : ''}`}>\r\n                  <option value=\"annual\">Annual</option>\r\n                  <option value=\"hourly\">Hourly</option>\r\n                </select>\r\n                {errors.salaryFrequency && <div className=\"jobposting-error\">{errors.salaryFrequency}</div>}\r\n              </div>\r\n            </div>\r\n            <textarea name=\"benefits\" placeholder=\"Benefits (comma separated)\" value={form.benefits} onChange={onChange} className=\"jobposting-textarea\" />\r\n          </div>\r\n        </section>\r\n\r\n        {/* 4. Application Details */}\r\n        <section className=\"jobposting-section\">\r\n          <h3>4. Application Details</h3>\r\n          <div className=\"jobposting-grid-2\">\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Application Deadline</label>\r\n              <input type=\"date\" name=\"deadline\" value={form.deadline} onChange={onChange} className={`jobposting-input ${errors.deadline ? 'invalid' : ''}`} />\r\n              {errors.deadline && <div className=\"jobposting-error\">{errors.deadline}</div>}\r\n            </div>\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Number of Openings</label>\r\n              <input type=\"number\" min={1} name=\"numberOpenings\" value={form.numberOpenings} onChange={onChange} className={`jobposting-input ${errors.numberOpenings ? 'invalid' : ''}`} />\r\n              {errors.numberOpenings && <div className=\"jobposting-error\">{errors.numberOpenings}</div>}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Application Method</label>\r\n              <select name=\"applicationMethod\" value={form.applicationMethod} onChange={onChange} className=\"jobposting-input\">\r\n                <option value=\"internal\">Internal Button</option>\r\n                <option value=\"external\">External Link</option>\r\n                <option value=\"email\">Email</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              \r\n              {(form.applicationMethod === 'external' || form.applicationMethod === 'email') && (\r\n                <>\r\n                  <label className=\"jobposting-small-label\">Application Target</label>\r\n                  <input name=\"applicationTarget\" placeholder={form.applicationMethod === 'external' ? 'Application URL' : 'Application Email'} value={form.applicationTarget} onChange={onChange} className={`jobposting-input ${errors.applicationTarget ? 'invalid' : ''}`} />\r\n                  {errors.applicationTarget && <div className=\"jobposting-error\">{errors.applicationTarget}</div>}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* 5. Additional Metadata */}\r\n        <section className=\"jobposting-section\">\r\n          <h3>5. Additional Metadata</h3>\r\n          <div className=\"jobposting-grid-2\">\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Posted Date</label>\r\n              <input type=\"date\" name=\"postedDate\" value={form.postedDate} onChange={onChange} className=\"jobposting-input\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Expiration Date</label>\r\n              <input type=\"date\" name=\"expirationDate\" value={form.expirationDate} onChange={onChange} className=\"jobposting-input\" />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Status</label>\r\n              <select name=\"status\" value={form.status} onChange={onChange} className=\"jobposting-input\">\r\n                <option>Active</option>\r\n                <option>Draft</option>\r\n                <option>Closed</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"jobposting-small-label\">Experience Level</label>\r\n              <select name=\"experienceLevel\" value={form.experienceLevel} onChange={onChange} className=\"jobposting-input\">\r\n                <option value=\"\">—</option>\r\n                <option>Entry</option>\r\n                <option>Mid</option>\r\n                <option>Senior</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <div className=\"jobposting-footer\">\r\n          <button type=\"submit\" className=\"jobposting-btn\">Post Job</button>\r\n        </div>\r\n\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// styles moved to JobPosting.css\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}